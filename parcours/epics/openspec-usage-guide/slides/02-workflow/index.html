<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Le workflow en 3 √©tapes ‚Äî OpenSpec Guide</title>
  <link rel="stylesheet" href="../../../../../lib/theme.css">
  <link rel="stylesheet" href="../../../../_shared/slide-base.css">
  <script type="module">
    import { initTheme } from '../../../../../lib/theme.js';
    initTheme();
  </script>
  <style>
    .workflow-diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-md);
      margin: var(--space-2xl) 0;
      flex-wrap: wrap;
    }
    .workflow-step {
      flex: 1;
      min-width: 200px;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
      padding: var(--space-lg);
      border-radius: var(--radius-md);
      border: 2px solid var(--color-accent);
      text-align: center;
      position: relative;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .workflow-step:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 16px rgba(102, 126, 234, 0.25);
    }
    .workflow-step .number {
      display: inline-block;
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 3rem;
      font-weight: bold;
      font-size: 1.5rem;
      margin-bottom: var(--space-md);
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    }
    .workflow-step h3 {
      margin: var(--space-sm) 0;
      color: var(--color-accent);
      font-size: 1.3rem;
    }
    .workflow-step p {
      margin: var(--space-xs) 0 0 0;
      font-size: 0.9rem;
    }
    .workflow-arrow {
      font-size: 2rem;
      color: var(--color-accent);
      opacity: 0.5;
    }
    .command-box {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
      padding: var(--space-md);
      border-radius: var(--radius-md);
      border-left: 4px solid var(--color-accent);
      font-family: var(--font-mono);
      margin: var(--space-md) 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .command-box strong {
      color: var(--color-accent);
    }
    .detail-section {
      background: var(--color-bg-secondary);
      padding: var(--space-lg);
      border-radius: var(--radius-md);
      margin: var(--space-lg) 0;
      border: 1px solid var(--color-border);
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .detail-section h3 {
      margin-top: 0;
      color: var(--color-accent);
    }
    .checklist {
      list-style: none;
      padding-left: 0;
      margin: var(--space-sm) 0;
    }
    .checklist li {
      margin: var(--space-xs) 0;
      line-height: 1.6;
    }
    .checklist li::before {
      content: "‚úì ";
      color: #28a745;
      font-weight: bold;
      margin-right: var(--space-xs);
    }
  </style>
</head>
<body>
  <article class="slide">
    <h1>Le workflow en 3 √©tapes</h1>

    <p>OpenSpec suit un workflow simple et lin√©aire. Chaque changement passe par ces 3 phases :</p>

    <div class="workflow-diagram">
      <div class="workflow-step">
        <div class="number">1</div>
        <h3>Proposal</h3>
        <p>Cr√©er et valider le changement</p>
      </div>

      <div class="workflow-arrow">‚Üí</div>

      <div class="workflow-step">
        <div class="number">2</div>
        <h3>Apply</h3>
        <p>Impl√©menter les t√¢ches</p>
      </div>

      <div class="workflow-arrow">‚Üí</div>

      <div class="workflow-step">
        <div class="number">3</div>
        <h3>Archive</h3>
        <p>Fusionner et archiver</p>
      </div>
    </div>

    <hr>

    <h2>√âtape 1 : Cr√©er une proposal</h2>

    <div class="detail-section">
      <h3>üéØ Objectif</h3>
      <p>D√©crire <strong>pourquoi</strong> et <strong>quoi</strong> changer avant d'√©crire du code.</p>

      <h3>üìù Actions</h3>
      <ul class="checklist">
        <li>Cr√©er un dossier <code>openspec/changes/[change-id]/</code></li>
        <li>R√©diger <code>proposal.md</code> (Motivation, Description, Impact)</li>
        <li>Lister les t√¢ches dans <code>tasks.md</code></li>
        <li>Ajouter les deltas de specs dans <code>specs/</code> (optionnel)</li>
        <li>Obtenir validation (review ou auto-validation si mineur)</li>
      </ul>

      <div class="command-box">
        <strong>Commande agent IA :</strong><br>
        /openspec:proposal
      </div>

      <blockquote>
        <p><strong>üí° Astuce</strong> : Les agents IA peuvent cr√©er la proposal pour vous si vous leur expliquez votre besoin clairement.</p>
      </blockquote>
    </div>

    <hr>

    <h2>√âtape 2 : Impl√©menter (Apply)</h2>

    <div class="detail-section">
      <h3>üéØ Objectif</h3>
      <p>Suivre le plan d√©fini dans <code>tasks.md</code> et cocher chaque t√¢che au fur et √† mesure.</p>

      <h3>üìù Actions</h3>
      <ul class="checklist">
        <li>Ouvrir <code>openspec/changes/[change-id]/tasks.md</code></li>
        <li>Impl√©menter chaque t√¢che <strong>s√©quentiellement</strong></li>
        <li>Cocher chaque t√¢che termin√©e avec <code>[x]</code></li>
        <li>Documenter les d√©cisions dans <code>design.md</code> si n√©cessaire</li>
        <li>Tester r√©guli√®rement (<code>make test</code>, <code>make lint</code>)</li>
        <li>Commiter au fil de l'eau</li>
      </ul>

      <div class="command-box">
        <strong>Commande agent IA :</strong><br>
        /openspec:apply
      </div>

      <blockquote>
        <p><strong>‚ö†Ô∏è Important</strong> : Ne pas sauter les t√¢ches. Chaque t√¢che pr√©pare la suivante.</p>
      </blockquote>
    </div>

    <hr>

    <h2>√âtape 3 : Archiver apr√®s d√©ploiement</h2>

    <div class="detail-section">
      <h3>üéØ Objectif</h3>
      <p>Fusionner les deltas dans les specs officielles et archiver la proposal pour garder <code>changes/</code> propre.</p>

      <h3>üìù Actions</h3>
      <ul class="checklist">
        <li>V√©rifier que le changement est <strong>d√©ploy√© en production</strong></li>
        <li>Fusionner les deltas <code>changes/[id]/specs/</code> ‚Üí <code>specs/</code></li>
        <li>D√©placer le dossier vers <code>changes/archive/YYYY-MM-DD-[name]/</code></li>
        <li>Mettre √† jour les r√©f√©rences dans <code>AGENTS.md</code> si n√©cessaire</li>
      </ul>

      <div class="command-box">
        <strong>Commande agent IA :</strong><br>
        /openspec:archive
      </div>

      <blockquote>
        <p><strong>üí° Pourquoi archiver ?</strong> Cela garde les specs √† jour et √©vite un dossier <code>changes/</code> encombr√© de proposals termin√©es.</p>
      </blockquote>
    </div>

    <hr>

    <h2>R√©sum√© visuel du cycle de vie</h2>

    <table>
      <thead>
        <tr>
          <th>Phase</th>
          <th>√âtat du changement</th>
          <th>Action cl√©</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Proposal</strong></td>
          <td>Id√©e document√©e</td>
          <td>Valider avant de coder</td>
        </tr>
        <tr>
          <td><strong>Apply</strong></td>
          <td>Impl√©mentation en cours</td>
          <td>Suivre tasks.md √©tape par √©tape</td>
        </tr>
        <tr>
          <td><strong>D√©ploy√©</strong></td>
          <td>En production</td>
          <td>Utiliser, monitorer</td>
        </tr>
        <tr>
          <td><strong>Archive</strong></td>
          <td>Spec fusionn√©e</td>
          <td>Historique propre</td>
        </tr>
      </tbody>
    </table>

    <h2>Commandes CLI disponibles</h2>

    <p>Si vous pr√©f√©rez la ligne de commande aux slash commands :</p>

    <table>
      <thead>
        <tr>
          <th>Commande</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>openspec list</code></td>
          <td>Liste les changes actifs</td>
        </tr>
        <tr>
          <td><code>openspec list --specs</code></td>
          <td>Liste toutes les capabilities</td>
        </tr>
        <tr>
          <td><code>openspec show [item]</code></td>
          <td>Affiche les d√©tails d'un item</td>
        </tr>
        <tr>
          <td><code>openspec validate [item]</code></td>
          <td>Validation stricte d'une proposal</td>
        </tr>
        <tr>
          <td><code>openspec archive &lt;id&gt;</code></td>
          <td>Archive un changement d√©ploy√©</td>
        </tr>
      </tbody>
    </table>

    <p style="margin-top: var(--space-xl); text-align: center;">
      <strong>Passons maintenant √† la pratique : cr√©er votre premi√®re proposal ! üëâ</strong>
    </p>
  </article>
</body>
</html>
